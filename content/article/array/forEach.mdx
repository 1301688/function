---
title: "配列の各要素を引数として指定された関数にひとつずつ渡したいとき"
date: "2021-09-20T06:48:26Z"
updateDate: ""
category: "array"
tags: "array"
description: "Array.prototype.forEach( )"
emoji: "🙂"
topImage: ""
---

## 結論

- forEach( )を使用する

- fotEach とは
  - 配列内の要素に対して、処理やチェックする時に使用する
  - 与えられた関数を、配列の各要素に対して一度ずつ実行するメゾット
  - 配列に対して何らかの操作を行う際は、filter, find, map, reduce などのメソッドを利用できないか検討し、
    いずれのメソッドでも実現ができない場合の最終手段に使用することが多い
  - 配列とコールバック関数を使用するという前提条件がある

## 構文

```js
array.forEach(callback(currentValue[, index[, array]]) {
  // 実行する文、配列の要素ごとに呼び出される処理
}[, thisArg]);
```

- callback = 各要素に対して実行するコールバック関数 1~3 つの引数を受け付ける
- currentValue = 現在処理されている配列の要素
- index = 配列内の currentValue の添字
- array = forEach()が呼び出されている配列
- thisArg = callback 内で this として使用する値

## 返り値

- コールバック関数の実行結果

## forEach( )のサンプルコード

```js
// 一般的なタイプ
const hairetu = [1, 3, 0]

hairetu.forEach((element, index, array) => {
  console.log(element + "[" + index + "]" + "[" + array + "]")
})
```

```js
const hairetu = [1, 3, 0]

hairetu.forEach((element, index, array) => {
  console.log(element + "[" + index + "]" + "[" + array + "]")
})
```

```js
const hairetu = [1, 3, 0]

hairetu.forEach((element, index, array) => {
  console.log(element + "[" + index + "]" + "[" + array + "]")
})
```

```js
const hairetu = [1, 3, 0]

hairetu.forEach((element, index, array) => {
  console.log(element + "[" + index + "]" + "[" + array + "]")
})
```

## forEach( )の実行内容

- 与えられた関数 callback を配列に含まれる各要素に対して一度ずつ、昇順で呼び出す
- forEach は for 文の条件式に相当するものはなく、必ず配列のすべての要素を反復処理する
- callback は次の 3 つの引数で呼び出される
  1. 要素の値
  2. 要素のインデックス
  3. 走査されている配列
- forEach() に thisArg 引数が与えられると、callback の呼び出し時にそのオブジェクトが thisArg として使用される
- forEach() によって処理される配列要素の範囲は、callback が最初に呼び出される前に設定される
- forEach() の呼び出しが開始された後に追加された配列要素に対しては、callback は実行されない
- 既存の配列要素が変更または削除された場合、callback に渡される値は forEach() がそれらを参照した時点での値になる
- 削除された配列要素を参照することはない
- 既に参照された配列要素がイテレーションの間 (e.g. shift()を使用して) に削除された場合、後の要素は飛ばされる

## 今回の目的　達成したい箇所 ユースケース

- forEach()を使って小さく動かせるようになる
- ユースケースを書き出す

## 問題　理解できていない箇所

- this 使用時の書き方
- forEach で async,await は使えない > https://dev.classmethod.jp/articles/foreach-async-await/
- JavaScript で forEach を使うのは最終手段 > https://qiita.com/diescake/items/70d9b0cbd4e3d5cc6fce#foreach--find

## 解決策　対策手順の概要

- 参考サイト調査
- わからない時はコピペでも良いからとにかく PDCA を回す
- 場数をふやす

## 前提条件　あれば書く　基本情報や必須条件など

- 構文

## 目的達成手順　順序立てた目的達成手順

- 1.場数を増やす
- 2.使用傾向を集める
- 3.データが集まったら集中学習する

## まとめ　ポジティブ意見

## 自分がわからないと意味がないので自分の言葉でアウトプットすること

---
