---
title: "一定の遅延間隔ごとに機能を実行したいとき"
date: "2021-09-05T09:00:41Z"
updateDate: ""
category: "window"
tags: "window"
description: "Window or Worker GlobalScorp.setInterval( )"
emoji: "🙂"
topImage: ""
---

# はじめに、なぜそうなったのか？から学べばキャッチアップしやすい

# 結論

- setInterval()を使用する

- setInterval とは
  - 指定した時間ごとに処理を実行するときに使用する
  - 一定に遅延間隔を置いて関数やコードスニペットを呼び出すメゾット
  - 「タイマー機能」を実装時に使用することが多い
  - clearTimeout()というタイマー機能を取り消すという機能もある

# 自分が理解できたドキュメントが必ず存在するから

# ユースケース

## 現在時刻を毎秒ログ出力する

```
setInterval(logClockTime, 1000);

function logClockTime() {
  let time = getClockTime();

  console.clear();
  console.log(time);
}

function getClockTime() {
  let date = new Date();
  return date;
}
```

## デジタル時計を作る

- デジタル時計（命令型プログラミング的アプローチ）

```
setInterval(logClockTime, 1000);

function logClockTime() {
  // 以下のプログラムでフォーマットされた現在時刻を取得する
  let time = getClockTime();

  // コンソールをクリアしてからログ出力する
  console.clear();
  console.log(time);
}

function getClockTime() {
  // 現在時刻のDateオブジェクトを取得する
  let date = new Date();
  // Dateオブジェクトのデータを時刻のみ表すオブジェクトに返還する
  let time = {
    hours: date.getHours(),
    minutes: date.getMinutes(),
    seconds: date.getSeconds(),
    ampm: "AM",
  };

  // 午前/午後を区別した時刻へ返還する
  if (time.hours == 12) {
    time.ampm = "PM";
  } else if (time.hours > 12) {
    time.ampm = "PM";
    time.hours -= 12;
  }

  // 「時」が一桁の時にゼロを付ける
  if (time.hours < 10) {
    time.hours = "0" + time.hours;
  }

  // 「分」が一桁の時にゼロを付ける
  if (time.minutes < 10) {
    time.minutes = "0" + time.minutes;
  }

  // 「秒」が一桁の時にゼロを付ける
  if (time.seconds < 10) {
    time.seconds = "0" + time.seconds;
  }

  // 時刻を" hh:mm:ss AM||PM "の形式にする
  return time.hours + ":" + time.minutes + ":" + time.seconds + " " + time.ampm;
}
```

# その使用したドキュメントを、以下項目に沿って、

# かつ自分が理解したまま自分の言葉で言語化してまとめきる

## 今回の目的　達成したい箇所 ユースケース

- ユースケースを書き出す
- 「今日すること」を自分管理システム（FF）に一定間隔で出力、クリアというふうに表示する

## 問題　理解できていない箇所

## 解決策　対策手順の概要

- 参考サイト調査
- わからない時はコピペでも良いからとにかく PDCA を回す
- 場数をふやす

## 前提条件　あれば書く　基本情報や必須条件など

- 構文

## 目的達成手順　順序立てた目的達成手順

- 1.場数を増やす
- 2.使用傾向を集める
- 3.データが集まったら集中学習する

## まとめ　ポジティブ意見

## 自分がわからないと意味がないので自分の言葉でアウトプットすること

---

## 構成２　内向けの場合

1. 記事構成（記事構成）
2. 目的（解決したい問題）結論から宣言する
3. 解決策（対策手順の概要）
4. ユースケースのイメージ（ストーリーこれ ② かも）
5. 説明と理由（手順を段階的に）（理由を書くとイメージがさらに UP する）（関連記事へのリンク＝自分用、関連記事への後記＝稼ぎ用）
6. 実習（コード挿入）
7. まとめ　まとめるならポジティブ　まとめないケースもあるマナブさん
8. 稼ぐ要素を必ず添付
9. 応用リンク（⑤ の説明の後記）

---

## ひとつひとつ理解するための大義、フレームワーク

1. 目的と issue 本当に達成すべきか
2. 問題と改善 どのような問題を解決してくれるか
3. 基本の使い方 基本的な使い方だけ書く
4. 応用の使い方 応用して使うにはどのような知識を持っておけば良いかだけ書く
   ※前提として 1,2 のみで大枠だけ書くだけ
   ※応用は改善時に学習しないと定着不可能のため

---

## 下記自分ルール　これだけくりかえし

1. 選択と集中 選択が出来たところで無意味　意味あるものに集中して有意味　（自問:issue）
2. 理解と説明 理解できたところで無意味　難しいことをカンタンに説明ができる事で有意味 (自己理解:自分の言葉)
3. 施行と改善 施行を続けたところで無意味　施行ありきの改善を続けることで有意味 (自己改善:アップデート)

---
